<!-- <div id="styleSelector">
</div> -->
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Warning Section Starts -->
<!-- Older IE warning message -->
<!--[if lt IE 10]>
<div class="ie-warning">
    <h1>Warning!!</h1>
    <p>You are using an outdated version of Internet Explorer, please upgrade <br/>to any of the following web browsers to access this website.</p>
    <div class="iew-container">
        <ul class="iew-download">
            <li>
                <a href="http://www.google.com/chrome/">
                    <img src="../files/assets/images/browser/chrome.png" alt="Chrome">
                    <div>Chrome</div>
                </a>
            </li>
            <li>
                <a href="https://www.mozilla.org/en-US/firefox/new/">
                    <img src="../files/assets/images/browser/firefox.png" alt="Firefox">
                    <div>Firefox</div>
                </a>
            </li>
            <li>
                <a href="http://www.opera.com">
                    <img src="../files/assets/images/browser/opera.png" alt="Opera">
                    <div>Opera</div>
                </a>
            </li>
            <li>
                <a href="https://www.apple.com/safari/">
                    <img src="../files/assets/images/browser/safari.png" alt="Safari">
                    <div>Safari</div>
                </a>
            </li>
            <li>
                <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">
                    <img src="../files/assets/images/browser/ie.png" alt="">
                    <div>IE (9 & above)</div>
                </a>
            </li>
        </ul>
    </div>
    <p>Sorry for the inconvenience!</p>
</div>
<![endif]-->
<!-- Warning Section Ends -->
<!-- Required Jquery -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\jquery\js\jquery.min.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\jquery-ui\js\jquery-ui.min.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\popper.js\js\popper.min.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\bootstrap\js\bootstrap.min.js"></script>
<!-- jquery slimscroll js -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\jquery-slimscroll\js\jquery.slimscroll.js"></script>
<!-- modernizr js -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\modernizr\js\modernizr.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\modernizr\js\css-scrollbars.js"></script>
<!-- data-table js -->
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net\js\jquery.dataTables.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net-buttons\js\dataTables.buttons.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\js\jszip.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\js\pdfmake.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\js\vfs_fonts.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\extensions\buttons\js\dataTables.buttons.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\extensions\buttons\js\buttons.flash.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\extensions\buttons\js\jszip.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\extensions\buttons\js\vfs_fonts.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\extensions\buttons\js\buttons.colVis.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net-buttons\js\buttons.print.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net-buttons\js\buttons.html5.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net-bs4\js\dataTables.bootstrap4.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net-responsive\js\dataTables.responsive.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\bower_components\datatables.net-responsive-bs4\js\responsive.bootstrap4.min.js"></script>
<!-- light-box js -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\ekko-lightbox\js\ekko-lightbox.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\lightbox2\js\lightbox.js"></script>

<!-- j-pro js -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\pages\j-pro\js\jquery.ui.min.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\pages\j-pro\js\jquery.maskedinput.min.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\pages\j-pro\js\jquery.j-pro.js"></script>

<!-- Custom js -->
<!-- <script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\pages\advance-elements\swithces.js"></script> -->
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\js\data-table-custom.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\pages\data-table\extensions\buttons\js\extension-btns-custom.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\js\pcoded.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\js\vartical-layout.min.js"></script>
<script src="<?= base_url(); ?>assets\Mempelai\js\jquery.mCustomScrollbar.concat.min.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\js\script.js"></script>
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\js\custom.js"></script>

<!-- Tags js -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\bootstrap-tagsinput\js\bootstrap-tagsinput.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.4/typeahead.bundle.min.js"></script>

<!-- jquery file upload js -->
<script src="<?= base_url(); ?>assets\Mempelai\pages\jquery.filer\js\jquery.filer.min.js"></script>
<!-- <script src="<?= base_url(); ?>assets\Mempelai\pages\filer\custom-filer.js" type="text/javascript"></script> -->
<!-- <script src="<?= base_url(); ?>assets\Mempelai\pages\filer\jquery.fileuploads.init.js" type="text/javascript"></script> -->

<!-- Max-length js -->
<script type="text/javascript" src="<?= base_url(); ?>assets\Mempelai\bower_components\bootstrap-maxlength\js\bootstrap-maxlength.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
    $(document).ready(function() {

        $("#filer_input1").filer({
            limit: <?= empty($jml_foto) ? 9 : 9 - $jml_foto  ?>,
            maxSize: null,
            extensions: ['jpg', 'jpeg', 'png'],
            changeInput: '<div class="jFiler-input-dragDrop"><div class="jFiler-input-inner"><div class="jFiler-input-icon"><i class="icon-jfi-cloud-up-o"></i></div><div class="jFiler-input-text"><h3>Tarik & Letakan file di sini</h3> <span style="display:inline-block; margin: 15px 0">atau</span></div><a class="jFiler-input-choose-btn btn btn-primary waves-effect waves-light">Cari File</a></div></div>',
            showThumbs: true,
            theme: "dragdropbox",
            templates: {
                box: '<ul class="jFiler-items-list jFiler-items-grid"></ul>',
                item: '<li class="jFiler-item">\
                    <div class="jFiler-item-container">\
                        <div class="jFiler-item-inner">\
                            <div class="jFiler-item-thumb">\
                                <div class="jFiler-item-status"></div>\
                                <div class="jFiler-item-info">\
                                    <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>\
                                    <span class="jFiler-item-others">{{fi-size2}}</span>\
                                </div>\
                                {{fi-image}}\
                            </div>\
                            <div class="jFiler-item-assets jFiler-row">\
                                <ul class="list-inline pull-left">\
                                    <li>{{fi-progressBar}}</li>\
                                </ul>\
                                <ul class="list-inline pull-right">\
                                    <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>\
                                </ul>\
                            </div>\
                        </div>\
                    </div>\
                </li>',
                itemAppend: '<li class="jFiler-item">\
                        <div class="jFiler  -item-container">\
                            <div class="jFiler-item-inner">\
                                <div class="jFiler-item-thumb">\
                                    <div class="jFiler-item-status"></div>\
                                    <div class="jFiler-item-info">\
                                        <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>\
                                        <span class="jFiler-item-others">{{fi-size2}}</span>\
                                    </div>\
                                    {{fi-image}}\
                                </div>\
                                <div class="jFiler-item-assets jFiler-row">\
                                    <ul class="list-inline pull-left">\
                                        <li><span class="jFiler-item-others">{{fi-icon}}</span></li>\
                                    </ul>\
                                    <ul class="list-inline pull-right">\
                                        <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>\
                                    </ul>\
                                </div>\
                            </div>\
                        </div>\
                    </li>',
                progressBar: '<div class="bar"></div>',
                itemAppendToEnd: false,
                removeConfirmation: true,
                _selectors: {
                    list: '.jFiler-items-list',
                    item: '.jFiler-item',
                    progressBar: '.bar',
                    remove: '.jFiler-item-trash-action'
                }
            },
            dragDrop: {
                dragEnter: null,
                dragLeave: null,
                drop: null,
            },
            uploadFile: {
                url: "<?= base_url('Mempelai/Galeri/add_foto'); ?>",
                // data: 'a',
                data: null,
                type: 'POST',
                enctype: 'multipart/form-data',
                beforeSend: function() {},
                success: function(data, el) {
                    var parent = el.find(".jFiler-jProgressBar").parent();
                    el.find(".jFiler-jProgressBar").fadeOut("slow", function() {
                        $("<div class=\"jFiler-item-others text-success\"><i class=\"icon-jfi-check-circle\"></i> Success Upload</div>").hide().appendTo(parent).fadeIn("slow");
                    });
                    setTimeout(function() {
                        window.location.href = window.location.href
                    }, 1500)

                    // alert("Sukes");
                    // location.href = "";
                },
                error: function(data, el) {
                    var parent = el.find(".jFiler-jProgressBar").parent();
                    el.find(".jFiler-jProgressBar").fadeOut("slow", function() {
                        $("<div class=\"jFiler-item-others text-error\"><i class=\"icon-jfi-minus-circle\"></i> Error</div>").hide().appendTo(parent).fadeIn("slow");
                    });
                    // alert("Gagal");
                },
                statusCode: null,
                onProgress: null,
                onComplete: null
            },
            files: [],
            addMore: false,
            clipBoardPaste: true,
            excludeName: null,
            beforeRender: null,
            afterRender: null,
            beforeShow: null,
            beforeSelect: null,
            onSelect: null,
            afterShow: null,
            onRemove: function(itemEl, file, id, listEl, boxEl, newInputEl, inputEl) {
                var file = file.name;
                $.post('../plugins/jquery.filer/php/remove_file.php', {
                    file: file
                });
            },
            onEmpty: null,
            options: null,
            captions: {
                button: "Pilih File",
                feedback: "Pilih File untuk di upload",
                feedback2: "File telah dipilih",
                drop: "Letakan file di sini untuk di upload",
                removeConfirmation: "Apakah kamu yakin menghapus file ini?",
                errors: {
                    filesLimit: "Hanya {{fi-limit}} file yang boleh di upload.",
                    filesType: "Hanya gambar yang dapat di upload.",
                    filesSize: "{{fi-name}} ukuran file terlalu! Harap unggah file hingga {{fi-maxSize}} MB.",
                    filesSizeAll: "File yang Anda pilih terlalu besar! Harap unggah file hingga  {{fi-maxSize}} MB."
                }
            }
        });

        $('#pay-button').click(function(event) {
            event.preventDefault();
            $(this).attr("disabled", "disabled");

            var nama = $("#nama").val();
            var jenis_kelamin = $("#jenis_kelamin").val();
            var jml_bayar = $("#jml_bayar").val();
            $.ajax({
                type: 'POST',
                url: '<?= site_url() ?>snap/token',
                data: {
                    nama: nama,
                    jenis_kelamin: jenis_kelamin,
                    jml_bayar: jml_bayar
                },
                cache: false,

                success: function(data) {
                    //location = data;

                    console.log('token  aaaaaa = ' + data);

                    var resultType = document.getElementById('result-type');
                    var resultData = document.getElementById('result-data');

                    function changeResult(type, data) {
                        $("#result-type").val(type);
                        $("#result-data").val(JSON.stringify(data));
                        //resultType.innerHTML = type;
                        //resultData.innerHTML = JSON.stringify(data);
                    }

                    snap.pay(data, {

                        onSuccess: function(result) {
                            changeResult('success', result);
                            console.log(result.status_message);
                            console.log(result);
                            $("#payment-form").submit();
                        },
                        onPending: function(result) {
                            changeResult('pending', result);
                            console.log(result.status_message);
                            $("#payment-form").submit();
                        },
                        onError: function(result) {
                            changeResult('error', result);
                            console.log(result.status_message);
                            $("#payment-form").submit();
                        }
                    });
                }
            });
        });
    });
</script>
</body>

</html>